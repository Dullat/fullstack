
1. What are events?
    
2. EventEmitter basics
    
3. How Node uses events internally
    
4. Synchronous vs asynchronous listeners
    
5. Once vs On
    
6. Removing listeners
    
7. Error events (VERY important)
    
8. How this connects to Streams & HTTP
    
9. Deep understanding of event loop relation
    

Letâ€™s begin.

---

# ğŸ§  1ï¸âƒ£ What Is an Event?

An event is simply:

> "Something happened."

Examples:

- File finished reading
    
- HTTP request received
    
- Timer completed
    
- Button clicked (browser)
    
- Stream received data
    

Node.js is built around:

```
When something happens â†’ emit event â†’ run listeners
```

---

# ğŸŸ¢ 2ï¸âƒ£ EventEmitter â€“ The Foundation

Node provides a built-in class:

```js
const EventEmitter = require("events");
```

You create your own emitter:

```js
const EventEmitter = require("events");

const myEmitter = new EventEmitter();
```

---

## ğŸ”¹ Emitting an event

```js
myEmitter.emit("greet");
```

Nothing happens yet because no listener is attached.

---

## ğŸ”¹ Listening to an event

```js
myEmitter.on("greet", () => {
  console.log("Hello bro!");
});
```

Now:

```js
myEmitter.emit("greet");
```

Output:

```
Hello bro!
```

---

# ğŸ§  Mental Model

```
.on()  â†’ Register listener
.emit() â†’ Trigger event
```

Think of it like:

```
subscribe â†’ publish
```

---

# ğŸŸ¢ 3ï¸âƒ£ Passing Data With Events

```js
myEmitter.on("user", (name, age) => {
  console.log(`User ${name} is ${age} years old`);
});

myEmitter.emit("user", "Dullat", 22);
```

Output:

```
User Dullat is 22 years old
```

You can pass any number of arguments.

---

# ğŸŸ¢ 4ï¸âƒ£ Multiple Listeners

```js
myEmitter.on("login", () => console.log("Log 1"));
myEmitter.on("login", () => console.log("Log 2"));

myEmitter.emit("login");
```

Output:

```
Log 1
Log 2
```

Important:

â¡ Listeners run **in the order they were registered**  
â¡ They run **synchronously**

---

# ğŸŸ¡ 5ï¸âƒ£ VERY IMPORTANT â€” Events Are Synchronous

This surprises people.

```js
myEmitter.on("test", () => {
  console.log("First");
});

myEmitter.emit("test");
console.log("Second");
```

Output:

```
First
Second
```

`emit()` runs listeners immediately.

Events themselves are NOT async.  
The async behavior in Node comes from:

- libuv
    
- Event loop
    
- Callbacks
    
- Promises
    

But `emit()` is synchronous.

This is CRITICAL to understand.

---

# ğŸŸ¢ 6ï¸âƒ£ once() vs on()

### `.on()`

Listener runs every time event is emitted.

### `.once()`

Listener runs only ONE time.

Example:

```js
myEmitter.once("ping", () => {
  console.log("Ping received once");
});

myEmitter.emit("ping");
myEmitter.emit("ping");
```

Output:

```
Ping received once
```

---

# ğŸŸ¢ 7ï¸âƒ£ Removing Listeners

```js
function handler() {
  console.log("Hello");
}

myEmitter.on("hi", handler);
myEmitter.removeListener("hi", handler);

myEmitter.emit("hi"); // nothing happens
```

Useful in:

- Cleaning memory
    
- Avoiding memory leaks
    

---

# ğŸ”´ 8ï¸âƒ£ Error Event (EXTREMELY IMPORTANT)

If you emit `"error"` and no listener is attached â†’ Node crashes.

Example:

```js
myEmitter.emit("error", new Error("Something broke"));
```

This crashes process.

Proper way:

```js
myEmitter.on("error", (err) => {
  console.error("Handled error:", err.message);
});
```

ALWAYS handle error events in production systems.

---

# ğŸ§  9ï¸âƒ£ How Node Uses Events Internally

Everything in Node uses EventEmitter:

- Streams
    
- HTTP server
    
- Process
    
- FS watchers
    

Example:

```js
const http = require("http");

const server = http.createServer((req, res) => {
  res.end("Hello");
});

server.on("request", () => {
  console.log("Request received");
});
```

HTTP server is an EventEmitter.

---

# ğŸ§  1ï¸âƒ£0ï¸âƒ£ Real Deep Understanding

Node works like:

```
libuv finishes async task
â†“
pushes callback into event queue
â†“
event loop executes callback
â†“
callback may emit events
â†“
listeners execute
```

Events are just a **design pattern** Node uses everywhere.

---

# ğŸš€ Now Letâ€™s Practice

I want you to write:

1. Create an emitter.
    
2. Emit an event called `"order"`.
    
3. Pass item name and price.
    
4. Log:
    
    ```
    Order received: Burger - $5
    ```
    

Then:  
5. Add another listener to same event that logs:

```
Saving order to database...
```

Send me your code.

Weâ€™re going deep. ğŸ’ª