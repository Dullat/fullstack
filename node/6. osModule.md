
---

# üì¶ Node.js `os` Module

```js
const os = require("os");
```

> The `os` module provides **operating system-related utility methods**.  
> You can query the OS, CPU, memory, network interfaces, uptime, user info, etc.

---

## 1Ô∏è‚É£ OS Platform & Version

```js
console.log(os.platform()); // 'win32', 'linux', 'darwin' (MacOS)
console.log(os.type());     // 'Windows_NT', 'Linux', 'Darwin'
console.log(os.release());  // OS version like '10.0.19043'
```

**Real-world use:**

- Detect OS to adjust file paths or behavior.
    
- For example:
    

```js
const filePath = os.platform() === "win32" ? "C:\\temp" : "/tmp";
```

---

## 2Ô∏è‚É£ CPU Info

```js
console.log(os.cpus());
```

Returns an array of objects like:

```json
[
  { model: 'Intel(R) Core(TM) i7-8700', speed: 3600, times: {...} },
  ...
]
```

**Real-world use:**

- Detect CPU cores for clustering:
    

```js
const cluster = require("cluster");
const numCPUs = os.cpus().length;

if (cluster.isMaster) {
  for (let i = 0; i < numCPUs; i++) {
    cluster.fork();
  }
} else {
  // Worker process
  require("./server");
}
```

- Useful for scaling Node apps to all CPU cores.
    

---

## 3Ô∏è‚É£ Free & Total Memory

```js
console.log(os.freemem());   // in bytes
console.log(os.totalmem());  // in bytes
```

**Example: Check memory before allocating large objects**

```js
if (os.freemem() < 100 * 1024 * 1024) {
  console.log("Not enough memory to run this task");
} else {
  console.log("Memory is sufficient");
}
```

- Real-world: monitoring apps, memory-intensive batch jobs.
    

---

## 4Ô∏è‚É£ System Uptime

```js
console.log(os.uptime()); // in seconds
```

**Example:**

```js
console.log(`System has been running for ${os.uptime()/3600} hours`);
```

- Useful in monitoring dashboards to track server uptime.
    

---

## 5Ô∏è‚É£ Home Directory & Temp Directory

```js
console.log(os.homedir());  // '/Users/username' or 'C:\Users\username'
console.log(os.tmpdir());   // OS temp directory
```

**Real-world:**

- Save temporary files or caches without hardcoding paths.
    
- Example:
    

```js
const tempFile = path.join(os.tmpdir(), "cache.json");
fs.writeFileSync(tempFile, JSON.stringify({}));
```

---

## 6Ô∏è‚É£ Network Interfaces

```js
console.log(os.networkInterfaces());
```

Returns an object like:

```json
{
  lo0: [
    { address: '127.0.0.1', family: 'IPv4', internal: true },
    ...
  ],
  en0: [
    { address: '192.168.1.5', family: 'IPv4', internal: false },
    ...
  ]
}
```

**Real-world use:**

- Find your server‚Äôs local IP to display or bind services.
    
- Example:
    

```js
const nets = os.networkInterfaces();
for (const name of Object.keys(nets)) {
  for (const net of nets[name]) {
    if (!net.internal && net.family === "IPv4") {
      console.log(`Local IP: ${net.address}`);
    }
  }
}
```

---

## 7Ô∏è‚É£ User Info

```js
console.log(os.userInfo());
```

Returns:

```json
{
  uid: 501,
  gid: 20,
  username: "john",
  homedir: "/Users/john",
  shell: "/bin/zsh"
}
```

- Useful for CLI tools to detect user info.
    
- Example:
    

```js
const { username, homedir } = os.userInfo();
console.log(`Hello ${username}, home directory is ${homedir}`);
```

---

## 8Ô∏è‚É£ Endianness

```js
console.log(os.endianness()); // 'LE' or 'BE'
```

- LE = Little Endian (Intel CPUs)
    
- BE = Big Endian
    
- Rarely needed, mostly for low-level networking/binary work.
    

---

## 9Ô∏è‚É£ Example: Build a Mini System Monitor

```js
const os = require("os");

console.log("---- System Info ----");
console.log("OS:", os.type(), os.platform(), os.release());
console.log("CPU cores:", os.cpus().length);
console.log("Free memory (MB):", (os.freemem() / 1024 / 1024).toFixed(2));
console.log("Total memory (MB):", (os.totalmem() / 1024 / 1024).toFixed(2));
console.log("System uptime (hrs):", (os.uptime() / 3600).toFixed(2));
console.log("User:", os.userInfo().username);
```

Output on my machine:

```
---- System Info ----
OS: Linux linux 5.15.0-75-generic
CPU cores: 8
Free memory (MB): 3200.12
Total memory (MB): 16000.00
System uptime (hrs): 12.45
User: john
```

---

## üî• Real-World Scenarios for `os` Module

1. **Clustered Node servers** ‚Üí `os.cpus().length`
    
2. **Health checks / monitoring** ‚Üí free memory & uptime
    
3. **Dynamic temp/cache files** ‚Üí `os.tmpdir()`
    
4. **CLI tools that need user info** ‚Üí `os.userInfo()`
    
5. **Platform-specific behavior** ‚Üí `os.platform()` & `os.type()`
    

---

# ‚ö° Pro Tips

- Combine with `process` module for advanced metrics:
    

```js
console.log("Memory usage:", process.memoryUsage());
console.log("CPU cores:", os.cpus().length);
```

- Build dashboards for **server health** using `os` + `setInterval()`.
    

---