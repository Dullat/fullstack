
---

# ðŸ”¹ What Are Node.js Globals?

In Node.js, _globals_ are variables and functions available everywhere â€” you donâ€™t need to `require()` or `import` them.

Think of them as tools Node gives you automatically.

---

# ðŸŸ¢ 1. `global`

### What it is:

The global object in Node.js (like `window` in browsers).

### Example:

```js
global.myAppName = "My Server";

console.log(myAppName); // "My Server"
```

### Real-world usage:

âš ï¸ Rarely used directly.  
Used when:

- Creating shared config
    
- Defining app-wide constants (though env/config files are better)
    

---

# ðŸŸ¢ 2. `__dirname`

### What it is:

Absolute path of the current fileâ€™s directory.

### Example:

```js
console.log(__dirname);
```

Output:

```
/Users/you/projects/app
```

### Real-world usage:

Serving static files:

```js
const path = require('path');
const express = require('express');

const app = express();

app.use(express.static(path.join(__dirname, 'public')));
```

This ensures your app works no matter where it's started from.

---

# ðŸŸ¢ 3. `__filename`

### What it is:

Full path of the current file.

```js
console.log(__filename);
```

Useful for:

- Logging
    
- Debugging
    
- File comparisons
    

---

# ðŸŸ¢ 4. `process` â­ (VERY IMPORTANT)

This is the most powerful global in Node.

It gives you information about the running Node process.

---

## ðŸ”¹ `process.env`

Environment variables.

```js
console.log(process.env.PORT);
```

Real-world:

```js
const PORT = process.env.PORT || 3000;
```

Used for:

- API keys
    
- Database URLs
    
- Production configs
    

---

## ðŸ”¹ `process.argv`

Command-line arguments.

```js
console.log(process.argv);
```

Run:

```
node app.js hello
```

Output:

```
['node', 'app.js', 'hello']
```

Real-world:  
CLI tools.

---

## ðŸ”¹ `process.exit()`

Stops the process.

```js
process.exit(1); // error
```

Used when:

- Fatal error
    
- CLI script finished
    

---

## ðŸ”¹ `process.cwd()`

Current working directory (where you ran node from).

âš ï¸ Different from `__dirname`.

---

## ðŸ”¹ `process.on()`

Listen for process events.

Example: graceful shutdown

```js
process.on('SIGINT', () => {
  console.log("Shutting down...");
  process.exit();
});
```

Real-world:

- Closing DB connections
    
- Cleaning up resources
    

---

# ðŸŸ¢ 5. `console`

You already know this, but letâ€™s go deeper.

## Methods:

- `console.log()`
    
- `console.error()`
    
- `console.warn()`
    
- `console.time()`
    
- `console.timeEnd()`
    

Example:

```js
console.time("DB Query");
doSomething();
console.timeEnd("DB Query");
```

Used for performance measuring.

---

# ðŸŸ¢ 6. Timers (Core Async Tools)

These are global:

- `setTimeout`
    
- `setInterval`
    
- `setImmediate`
    
- `clearTimeout`
    
- `clearInterval`
    

---

## ðŸ”¹ `setTimeout`

```js
setTimeout(() => {
  console.log("Runs after 2 seconds");
}, 2000);
```

Real-world:

- Retry logic
    
- Delays
    
- Simulated async work
    

---

## ðŸ”¹ `setImmediate`

Runs after current event loop phase.

```js
setImmediate(() => {
  console.log("Immediate task");
});
```

Used for:

- Breaking heavy CPU tasks
    
- Preventing blocking
    

---

# ðŸŸ¢ 7. `Buffer` (Very Important)

Used for handling binary data.

```js
const buf = Buffer.from("Hello");
console.log(buf);
```

Real-world:

- File uploads
    
- Streams
    
- Encryption
    
- TCP servers
    

Example:

```js
const fs = require('fs');

fs.readFile('image.png', (err, data) => {
  console.log(data); // Buffer
});
```

---

# ðŸŸ¢ 8. `setInterval`

```js
setInterval(() => {
  console.log("Running every second");
}, 1000);
```

Used for:

- Polling
    
- Monitoring
    
- Heartbeat systems
    

---

# ðŸŸ¢ 9. `require` (CommonJS)

Used to import modules.

```js
const fs = require('fs');
```

âš ï¸ Not available in ES modules (`type: "module"`).

---

# ðŸŸ¢ 10. `module` & `exports`

Used in CommonJS modules.

```js
module.exports = function() {
  console.log("Hello");
};
```

---

# ðŸŸ¢ 11. `clearImmediate`

Cancels `setImmediate`.

---

# ðŸŸ¢ 12. `queueMicrotask`

Advanced async scheduling.

```js
queueMicrotask(() => {
  console.log("Microtask");
});
```

Runs before timers.

Used for:

- Fine-grained async control
    
- Libraries/framework internals
    

---

# ðŸŸ¢ 13. `URL` (Web API available in Node)

```js
const myUrl = new URL("https://example.com/path?name=test");

console.log(myUrl.hostname);
```

Used for:

- Parsing request URLs
    
- Redirect logic
    

---

# ðŸŸ¢ 14. `fetch` (Modern Node)

Available in modern Node versions.

```js
const res = await fetch("https://api.example.com");
const data = await res.json();
```

Used for:

- Calling APIs
    
- Microservices communication
    

---

# ðŸŸ¢ 15. `AbortController`

Used to cancel async operations.

```js
const controller = new AbortController();

setTimeout(() => controller.abort(), 2000);

fetch(url, { signal: controller.signal });
```

Used for:

- Request timeouts
    
- Cancellation logic
    

---

# ðŸŸ¢ 16. `atob` / `btoa`

Base64 encoding/decoding (newer Node versions).

---

# ðŸŸ¢ 17. `structuredClone`

Deep copy objects safely.

```js
const copy = structuredClone(obj);
```

Better than:

```js
JSON.parse(JSON.stringify(obj));
```

---

# ðŸ”¥ Most Important Globals for Backend Developers

If you're building APIs, focus on mastering:

- âœ… `process`
    
- âœ… `Buffer`
    
- âœ… Timers
    
- âœ… `__dirname`
    
- âœ… `fetch`
    
- âœ… `URL`
    
- âœ… `AbortController`
    

---

# ðŸš€ Real-World Mini Example (Combining Globals)

```js
const http = require('http');

const PORT = process.env.PORT || 3000;

const server = http.createServer(async (req, res) => {
  const url = new URL(req.url, `http://${req.headers.host}`);

  if (url.pathname === "/time") {
    res.end(new Date().toISOString());
  } else {
    res.end("Hello World");
  }
});

process.on("SIGINT", () => {
  console.log("Graceful shutdown...");
  server.close(() => process.exit(0));
});

server.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`);
});
```

This uses:

- `process`
    
- `URL`
    
- `require`
    
- `__dirname` (implicitly)
    
- Timers (event loop)
    
- console
    

---

# ðŸŽ¯ Important Note

Node.js globals â‰  JavaScript globals.

Node adds these on top of the V8 engine.

---

Next:

1. ðŸ”¥ Deep dive into `process`
    
2. ðŸ”¥ Deep dive into Node event loop phases
    
3. ðŸ”¥ Buffer & Streams mastery
    
4. ðŸ”¥ Difference between Browser globals and Node globals
    
5. ðŸ”¥ Build a real CLI tool using globals
    